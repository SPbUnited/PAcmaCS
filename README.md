[![Version](https://img.shields.io/badge/version-v0.7.10-informational)](https://github.com/SPBUnited/serviz/actions/workflows/auto-semver.yml)

# SERVIZ - vizualisation server

![](images/2025-03-29-22-52-41.png)

Данный проект представляет

## Реализованные функции

### CORE

- Связь между модулями через zmq (ipc)
- Автоматическая установка зависимостей, сборка и запуск сервисов

### LARCMACS

- Чтение состояния игрового поля
- Отправка команд управления в grsim
- Связь с кодом стратегии, использущим strategy-bridge через zmq

### SERVIZ
- Отрисовка игрового поля с объектами на поле в реальном времени. Реализованные объекты:
    - [x] Роботы (с маркерами или номерами)
    - [x] Мяч
    - [ ] Линии и стрелки
    - [ ] Кривые
    - [ ] Точки
- Поддержка множества слоев с настройкой видимости для каждого слоя


## Зависимости

- Python 3.12
- Node.js 18
- Docker
- Docker Compose

## Установка и запуск

```bash
make init
make build
make up-all
```

После запуска можно подключится к serviz по адресу http://localhost:8000

## Более подробное описание реализованных инструкций:

- `make init` - инициализирует виртуальное окружение и зависимости
- `make build` - собирает образы для serviz и larcmacs
- `make up` - запускает все сервисы кроме grsim
- `make up-grsim` - запускает headless grsim
- `make up-all` - запускает все сервисы (serviz, larcmacs, grsim)
- `make down` - останавливает все сервисы
- `make purge` - очищает все сервисы и их данные

## Переключение дивизионов

По умолчанию Сервиз запускается с `divB`. Для смены настройки используемого дивизиона можно указать требуемый дивизион при запуске через `make`:

```bash
make up-all DIV='divB' # Для divB
make up-all DIB='divC' # Для divC
```

Эта настройка влияет на количество создаваемых роботов в симуляторе и на отображаемое поле в Сервизе.
